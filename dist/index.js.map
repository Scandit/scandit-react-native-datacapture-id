{"version":3,"file":"index.js","sources":["../ts/native/initProxy.ts","../ts/private/initDefaults.ts","../ts/IdCaptureView.tsx","../ts/index.ts"],"sourcesContent":["import { createNativeProxy, FactoryMaker } from 'scandit-datacapture-frameworks-core';\nimport { createRNNativeCaller } from 'scandit-react-native-datacapture-core';\nimport { NativeModules } from 'react-native';\nexport function initIdProxy() {\n    FactoryMaker.bindLazyInstance('IdCaptureProxy', () => {\n        const caller = createRNNativeCaller(NativeModules.ScanditDataCaptureId);\n        return createNativeProxy(caller);\n    });\n    FactoryMaker.bindLazyInstance('IdCaptureListenerProxy', () => {\n        const caller = createRNNativeCaller(NativeModules.ScanditDataCaptureId);\n        return createNativeProxy(caller);\n    });\n    FactoryMaker.bindLazyInstance('IdCaptureOverlayProxy', () => {\n        const caller = createRNNativeCaller(NativeModules.ScanditDataCaptureId);\n        return createNativeProxy(caller);\n    });\n}\n//# sourceMappingURL=initProxy.js.map","import { NativeModules } from 'react-native';\nimport { initCoreDefaults } from 'scandit-react-native-datacapture-core';\nimport { loadIdDefaults } from 'scandit-datacapture-frameworks-id';\nconst dataCaptureId = NativeModules.ScanditDataCaptureId;\nexport function initIdDefaults() {\n    initCoreDefaults();\n    loadIdDefaults(dataCaptureId.Defaults);\n}\n//# sourceMappingURL=initDefaults.js.map","import React, { useEffect, useRef, useState, forwardRef, useImperativeHandle, useMemo, useCallback } from 'react';\nimport { AppState } from 'react-native';\nimport { CameraPosition, DataCaptureView, FrameSourceState, } from 'scandit-react-native-datacapture-core';\nimport { IdCapture, IdCaptureOverlay, IdCaptureSettings, } from 'scandit-datacapture-frameworks-id';\nimport { CameraOwnershipHelper } from 'scandit-datacapture-frameworks-core';\n// tslint:disable-next-line\nexport const IdCaptureView = forwardRef(function IdCaptureView(props, ref) {\n    useImperativeHandle(ref, () => ({\n        reset() {\n            getMode().reset();\n        },\n    }), \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    /* STATE VARIABLES */\n    const [isEnabledState, setIsEnabledState] = useState(false);\n    const [frameSourceState, setFrameSourceState] = useState(FrameSourceState.Off);\n    const [viewId] = useState(() => Math.floor(Math.random() * 1000000));\n    const [isCameraSetup, setIsCameraSetup] = useState(false);\n    // Create camera owner using viewId\n    const cameraOwner = useMemo(() => ({\n        id: `id-capture-view-${viewId}`,\n    }), [viewId]);\n    /* STATE HANDLERS */\n    const getMode = useCallback(() => {\n        if (idCaptureModeRef.current !== null) {\n            return idCaptureModeRef.current;\n        }\n        idCaptureModeRef.current = new IdCapture(props.idCaptureSettings || new IdCaptureSettings());\n        idCaptureModeRef.current.parentId = viewId;\n        return idCaptureModeRef.current;\n    }, [props.idCaptureSettings, viewId]);\n    useEffect(() => {\n        getMode().isEnabled = isEnabledState;\n    }, [isEnabledState, getMode]);\n    useEffect(() => {\n        const position = props.desiredCameraPosition || CameraPosition.WorldFacing;\n        CameraOwnershipHelper.withCamera(position, cameraOwner, async (camera) => {\n            await camera.switchToDesiredState(frameSourceState);\n        });\n    }, [frameSourceState, props.desiredCameraPosition, cameraOwner]);\n    const viewRef = useRef(null);\n    const componentIsSetUp = useRef(false);\n    const idCaptureModeRef = useRef(null);\n    const idCaptureOverlayRef = useRef(null);\n    const getIdCaptureOverlay = useCallback(() => {\n        if (idCaptureOverlayRef.current !== null) {\n            return idCaptureOverlayRef.current;\n        }\n        idCaptureOverlayRef.current = new IdCaptureOverlay(getMode());\n        return idCaptureOverlayRef.current;\n    }, [getMode]);\n    // Remove getCamera function as we'll use CameraOwnershipHelper\n    const torchSwitchControl = useRef(null);\n    const zoomSwitchControl = useRef(null);\n    const appState = useRef(AppState.currentState);\n    /* SETUP */\n    useEffect(() => {\n        doSetup();\n        const subscription = AppState.addEventListener('change', nextAppState => {\n            if (appState.current.match(/inactive|background/) && nextAppState === 'active') {\n                setIsEnabledState(props.isEnabled);\n                setFrameSourceState(props.desiredCameraState || FrameSourceState.On);\n            }\n            else {\n                setIsEnabledState(false);\n                setFrameSourceState(FrameSourceState.Off);\n            }\n            appState.current = nextAppState;\n        });\n        return () => {\n            subscription.remove();\n            doDestroy();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const setupCamera = useCallback(async () => {\n        const position = props.desiredCameraPosition || CameraPosition.WorldFacing;\n        // Request ownership and set up camera\n        await CameraOwnershipHelper.withCameraWhenAvailable(position, cameraOwner, async (camera) => {\n            const settings = props.cameraSettings || IdCapture.createRecommendedCameraSettings();\n            await camera.applySettings(settings);\n            await props.context.setFrameSource(camera);\n            await camera.switchToDesiredState(props.desiredCameraState || FrameSourceState.On);\n            // Mark camera as set up\n            setIsCameraSetup(true);\n        });\n    }, [props.desiredCameraPosition, cameraOwner, props.cameraSettings, props.context, props.desiredCameraState]);\n    const doSetup = useCallback(() => {\n        if (componentIsSetUp.current)\n            return;\n        componentIsSetUp.current = true;\n        /* Setup camera with ownership - WAIT for completion */\n        setupCamera();\n        /* Only proceed after camera is ready */\n        props.context.removeAllModes();\n        props.context.addMode(getMode());\n        /* Adding ID Capture Overlay */\n        if (viewRef.current) {\n            viewRef.current.addOverlay(getIdCaptureOverlay());\n        }\n    }, [setupCamera, props.context, getMode, getIdCaptureOverlay]);\n    const doDestroy = () => {\n        doCleanup();\n        idCaptureModeRef.current = null;\n        torchSwitchControl.current = null;\n        zoomSwitchControl.current = null;\n        idCaptureOverlayRef.current = null;\n    };\n    const doCleanup = useCallback(() => {\n        if (!componentIsSetUp.current)\n            return;\n        componentIsSetUp.current = false;\n        // Reset camera setup state\n        setIsCameraSetup(false);\n        /* Remove the torch control */\n        if (torchSwitchControl.current) {\n            viewRef.current?.removeControl(torchSwitchControl.current);\n        }\n        /* Remove the zoom control */\n        if (zoomSwitchControl.current) {\n            viewRef.current?.removeControl(zoomSwitchControl.current);\n        }\n        /* Cleaning Data Capture Context */\n        if (idCaptureModeRef.current) {\n            props.context.removeMode(idCaptureModeRef.current);\n        }\n        /* Cleaning Overlays */\n        if (viewRef.current) {\n            viewRef.current.view?.overlays?.forEach((overlay) => viewRef.current?.view?.removeOverlay(overlay));\n        }\n        /* Turn off camera and release ownership */\n        const position = props.desiredCameraPosition || CameraPosition.WorldFacing;\n        CameraOwnershipHelper.withCamera(position, cameraOwner, async (camera) => {\n            await camera.switchToDesiredState(FrameSourceState.Off);\n            await props.context.setFrameSource(null);\n        }).finally(() => {\n            // Release camera ownership\n            CameraOwnershipHelper.releaseOwnership(position, cameraOwner);\n        });\n    }, [props.desiredCameraPosition, cameraOwner, props.context]);\n    /* ID CAPTURE MODE */\n    useEffect(() => {\n        if (props.idCaptureSettings) {\n            getMode().applySettings(props.idCaptureSettings);\n        }\n    }, [props.idCaptureSettings, getMode]);\n    useEffect(() => {\n        setIsEnabledState(props.isEnabled);\n        setFrameSourceState(props.desiredCameraState || FrameSourceState.On);\n    }, [props.isEnabled, props.desiredCameraState]);\n    const listenerRef = useRef(null);\n    const callbacksRef = useRef({ didCaptureId: props.didCaptureId, didRejectId: props.didRejectId });\n    // Update callback references when props change\n    useEffect(() => {\n        callbacksRef.current = { didCaptureId: props.didCaptureId, didRejectId: props.didRejectId };\n    }, [props.didCaptureId, props.didRejectId]);\n    // Add/remove listener only when needed\n    useEffect(() => {\n        const setupListeners = async () => {\n            const shouldHaveListener = props.didCaptureId || props.didRejectId;\n            const hasListener = listenerRef.current !== null;\n            if (shouldHaveListener && !hasListener) {\n                // Add listener\n                listenerRef.current = {\n                    didCaptureId: (idCapture, capturedId) => callbacksRef.current.didCaptureId?.(idCapture, capturedId),\n                    didRejectId: (idCapture, rejectedId, reason) => callbacksRef.current.didRejectId?.(idCapture, rejectedId, reason),\n                };\n                await getMode().addListener(listenerRef.current);\n            }\n            else if (!shouldHaveListener && hasListener && listenerRef.current) {\n                // Remove listener\n                await getMode().removeListener(listenerRef.current);\n                listenerRef.current = null;\n            }\n        };\n        setupListeners();\n    }, [props.didCaptureId, props.didRejectId, getMode, listenerRef, callbacksRef]);\n    /* OVERLAYS */\n    useEffect(() => {\n        if (props.capturedBrush) {\n            getIdCaptureOverlay().capturedBrush = props.capturedBrush;\n        }\n        if (props.rejectedBrush) {\n            getIdCaptureOverlay().rejectedBrush = props.rejectedBrush;\n        }\n        if (props.localizedBrush) {\n            getIdCaptureOverlay().localizedBrush = props.localizedBrush;\n        }\n    }, [props.capturedBrush, props.rejectedBrush, props.localizedBrush, getIdCaptureOverlay]);\n    /* CAMERA */\n    useEffect(() => {\n        if (!isCameraSetup)\n            return; // Don't run until camera is ready\n        const position = props.desiredCameraPosition || CameraPosition.WorldFacing;\n        const settings = props.cameraSettings || IdCapture.createRecommendedCameraSettings();\n        CameraOwnershipHelper.withCamera(position, cameraOwner, async (camera) => {\n            await camera.applySettings(settings);\n        });\n    }, [props.cameraSettings, props.desiredCameraPosition, cameraOwner, isCameraSetup]);\n    useEffect(() => {\n        if (props.desiredCameraState) {\n            setFrameSourceState(props.desiredCameraState);\n        }\n    }, [props.desiredCameraState]);\n    useEffect(() => {\n        if (props.desiredCameraPosition) {\n            // Handle camera position change with ownership\n            const currentOwnedPosition = CameraOwnershipHelper.getOwnedPosition(cameraOwner);\n            const newPosition = props.desiredCameraPosition;\n            if (currentOwnedPosition && currentOwnedPosition !== newPosition) {\n                // Release old camera ownership\n                CameraOwnershipHelper.releaseOwnership(currentOwnedPosition, cameraOwner);\n                // Set up new camera\n                setupCamera();\n            }\n            else if (!currentOwnedPosition) {\n                // No camera owned yet, set up new camera\n                setupCamera();\n            }\n        }\n    }, [props.desiredCameraPosition, cameraOwner, setupCamera]);\n    /* CONTROLS */\n    useEffect(() => {\n        if (props.desiredTorchState) {\n            const position = props.desiredCameraPosition || CameraPosition.WorldFacing;\n            CameraOwnershipHelper.withCameraWhenAvailable(position, cameraOwner, async (camera) => {\n                camera.desiredTorchState = props.desiredTorchState;\n            });\n        }\n    }, [props.desiredTorchState, props.desiredCameraPosition, cameraOwner]);\n    useEffect(() => {\n        if (!viewRef.current)\n            return;\n        if (torchSwitchControl.current) {\n            viewRef.current?.removeControl(torchSwitchControl.current);\n        }\n        if (!props.torchSwitchControl)\n            return;\n        torchSwitchControl.current = props.torchSwitchControl;\n        viewRef.current.addControl(torchSwitchControl.current);\n    }, [props.torchSwitchControl]);\n    useEffect(() => {\n        if (!viewRef.current)\n            return;\n        if (zoomSwitchControl.current) {\n            viewRef.current?.removeControl(zoomSwitchControl.current);\n        }\n        if (!props.zoomSwitchControl)\n            return;\n        zoomSwitchControl.current = props.zoomSwitchControl;\n        viewRef.current.addControl(zoomSwitchControl.current);\n    }, [props.zoomSwitchControl]);\n    /* MISC */\n    useEffect(() => {\n        if (props.feedback) {\n            getMode().feedback = props.feedback;\n        }\n    }, [props.feedback, getMode]);\n    useEffect(() => {\n        if (!props.navigation)\n            return;\n        try {\n            const unsubscribeFromFocus = props.navigation.addListener('focus', () => {\n                doSetup();\n            });\n            const unsubscribeFromBlur = props.navigation.addListener('blur', () => {\n                doCleanup();\n            });\n            return () => {\n                unsubscribeFromFocus();\n                unsubscribeFromBlur();\n            };\n        }\n        catch (e) {\n            // tslint:disable-next-line:no-console\n            console.error(e);\n        }\n    }, [props.navigation, doSetup, doCleanup]);\n    return React.createElement(DataCaptureView, { context: props.context, parentId: viewId, style: { flex: 1 }, ref: viewRef });\n});\n//# sourceMappingURL=IdCaptureView.js.map","import { initIdProxy } from './native/initProxy';\nimport { initIdDefaults } from './private/initDefaults';\ninitIdDefaults();\ninitIdProxy();\n// Core ID Types\nexport { DateResult } from 'scandit-datacapture-frameworks-id';\nexport { IdAnonymizationMode } from 'scandit-datacapture-frameworks-id';\nexport { IdFieldType } from 'scandit-datacapture-frameworks-id';\nexport { IdImageType } from 'scandit-datacapture-frameworks-id';\nexport { CapturedSides } from 'scandit-datacapture-frameworks-id';\nexport { TextHintPosition } from 'scandit-datacapture-frameworks-id';\nexport { BarcodeResult } from 'scandit-datacapture-frameworks-id';\nexport { Duration } from 'scandit-datacapture-frameworks-id';\nexport { IdImages } from 'scandit-datacapture-frameworks-id';\nexport { IdSide } from 'scandit-datacapture-frameworks-id';\nexport { Sex } from 'scandit-datacapture-frameworks-id';\nexport { UsRealIdStatus } from 'scandit-datacapture-frameworks-id';\n// Captured ID Data\nexport { CapturedId } from 'scandit-datacapture-frameworks-id';\nexport { MobileDocumentOCRResult } from 'scandit-datacapture-frameworks-id';\nexport { MobileDocumentResult } from 'scandit-datacapture-frameworks-id';\nexport { MRZResult } from 'scandit-datacapture-frameworks-id';\nexport { VIZResult } from 'scandit-datacapture-frameworks-id';\n// ID Capture\nexport { IdCapture } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureFeedback } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureOverlay } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureSettings } from 'scandit-datacapture-frameworks-id';\nexport { IdLayoutLineStyle } from 'scandit-datacapture-frameworks-id';\nexport { IdLayoutStyle } from 'scandit-datacapture-frameworks-id';\nexport { RejectionReason } from 'scandit-datacapture-frameworks-id';\n// Document Types\nexport { IdCaptureDocumentType } from 'scandit-datacapture-frameworks-id';\nexport { DriverLicense } from 'scandit-datacapture-frameworks-id';\nexport { HealthInsuranceCard } from 'scandit-datacapture-frameworks-id';\nexport { IdCard } from 'scandit-datacapture-frameworks-id';\nexport { Passport } from 'scandit-datacapture-frameworks-id';\nexport { RegionSpecific } from 'scandit-datacapture-frameworks-id';\nexport { ResidencePermit } from 'scandit-datacapture-frameworks-id';\nexport { VisaIcao } from 'scandit-datacapture-frameworks-id';\n// Scanners & Regions\nexport { IdCaptureScanner } from 'scandit-datacapture-frameworks-id';\nexport { SingleSideScanner } from 'scandit-datacapture-frameworks-id';\nexport { FullDocumentScanner } from 'scandit-datacapture-frameworks-id';\nexport { MobileDocumentScanner } from 'scandit-datacapture-frameworks-id';\nexport { MobileDocumentDataElement } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureRegion } from 'scandit-datacapture-frameworks-id';\nexport { RegionSpecificSubtype } from 'scandit-datacapture-frameworks-id';\n// Verification & Validation\nexport { AamvaBarcodeVerificationResult } from 'scandit-datacapture-frameworks-id';\nexport { AamvaBarcodeVerificationStatus } from 'scandit-datacapture-frameworks-id';\nexport { DataConsistencyResult } from 'scandit-datacapture-frameworks-id';\nexport { DataConsistencyCheck } from 'scandit-datacapture-frameworks-id';\nexport { VerificationResult } from 'scandit-datacapture-frameworks-id';\n// Driving License Details\nexport { ProfessionalDrivingPermit } from 'scandit-datacapture-frameworks-id';\nexport { VehicleRestriction } from 'scandit-datacapture-frameworks-id';\nexport { DrivingLicenseCategory } from 'scandit-datacapture-frameworks-id';\nexport { DrivingLicenseDetails } from 'scandit-datacapture-frameworks-id';\n// Internal Controllers, Proxies & Events\nexport { IdCaptureController } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureListenerController } from 'scandit-datacapture-frameworks-id';\nexport { IdCaptureListenerEvents } from 'scandit-datacapture-frameworks-id';\n// React Native Components\nexport * from './IdCaptureView';\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}